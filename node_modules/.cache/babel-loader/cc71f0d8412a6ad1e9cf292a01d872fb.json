{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\91900\\\\Desktop\\\\aam\\\\react-challenge-amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{db}from\"./firebase\";import'./Orders.css';import{useStateValue}from\"./StateProvider\";import Order from'./Order';function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/React.createElement(\"div\",{className:\"orders\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{className:\"orders__order\"},orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/React.createElement(Order,{order:order});})));}export default Orders;","map":{"version":3,"names":["React","useState","useEffect","db","useStateValue","Order","Orders","_useStateValue","_useStateValue2","_slicedToArray","_useStateValue2$","basket","user","dispatch","_useState","_useState2","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","createElement","className","order"],"sources":["C:/Users/91900/Desktop/aam/react-challenge-amazon-clone/src/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from \"./firebase\";\r\nimport './Orders.css'\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from './Order'\r\n\r\nfunction Orders() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user) {\r\n        db\r\n        .collection('users')\r\n        .doc(user?.uid)\r\n        .collection('orders')\r\n        .orderBy('created', 'desc')\r\n        .onSnapshot(snapshot => (\r\n            setOrders(snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                data: doc.data()\r\n            })))\r\n        ))\r\n    } else {\r\n        setOrders([])\r\n    }\r\n\r\n  }, [user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className='orders__order'>\r\n                {orders?.map(order => (\r\n                    <Order order={order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n"],"mappings":"wLAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,YAAY,CAC/B,MAAO,cAAc,CACrB,OAASC,aAAa,KAAQ,iBAAiB,CAC/C,MAAO,CAAAC,KAAK,KAAM,SAAS,CAE3B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,IAAAC,cAAA,CAAqCH,aAAa,CAAC,CAAC,CAAAI,eAAA,CAAAC,cAAA,CAAAF,cAAA,IAAAG,gBAAA,CAAAF,eAAA,IAA3CG,MAAM,CAAAD,gBAAA,CAANC,MAAM,CAAEC,IAAI,CAAAF,gBAAA,CAAJE,IAAI,CAAIC,QAAQ,CAAAL,eAAA,IACjC,IAAAM,SAAA,CAA4Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAN,cAAA,CAAAK,SAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IAExBb,SAAS,CAAC,UAAM,CACd,GAAGU,IAAI,CAAE,CACLT,EAAE,CACDe,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,GAAG,CAAC,CACdF,UAAU,CAAC,QAAQ,CAAC,CACpBG,OAAO,CAAC,SAAS,CAAE,MAAM,CAAC,CAC1BC,UAAU,CAAC,SAAAC,QAAQ,QAChB,CAAAN,SAAS,CAACM,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,SAAAN,GAAG,QAAK,CAChCO,EAAE,CAAEP,GAAG,CAACO,EAAE,CACVC,IAAI,CAAER,GAAG,CAACQ,IAAI,CAAC,CACnB,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CACN,CAAC,IAAM,CACHV,SAAS,CAAC,EAAE,CAAC,CACjB,CAEF,CAAC,CAAE,CAACL,IAAI,CAAC,CAAC,CAER,mBACIZ,KAAA,CAAA4B,aAAA,QAAKC,SAAS,CAAC,QAAQ,eACnB7B,KAAA,CAAA4B,aAAA,WAAI,aAAe,CAAC,cAEpB5B,KAAA,CAAA4B,aAAA,QAAKC,SAAS,CAAC,eAAe,EACzBb,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAES,GAAG,CAAC,SAAAK,KAAK,qBACd9B,KAAA,CAAA4B,aAAA,CAACvB,KAAK,EAACyB,KAAK,CAAEA,KAAM,CAAE,CAAC,EAC1B,CACA,CACJ,CAAC,CAEd,CAEA,cAAe,CAAAxB,MAAM"},"metadata":{},"sourceType":"module"}